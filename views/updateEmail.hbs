<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Update Email and Password</title>
    <link rel="stylesheet" href="css/updateEmail.css">
    <script>
        function updateEmail() {
            var newEmail = document.getElementById('newEmail').value;
            // Simulate a POST request to update-email endpoint
            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'update-email', true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.send('newEmail=' + encodeURIComponent(newEmail));
        }

        function addPasswordField() {
            var passwordContainer = document.getElementById('passwordContainer');
            
            // Create a new password input field
            var newPasswordField = document.createElement('div');
            newPasswordField.classList.add('password-container');

            var label = document.createElement('label');
            label.textContent = 'Enter Password:';
            newPasswordField.appendChild(label);

            var input = document.createElement('input');
            input.type = 'password';
            input.name = 'newPW[]';
            input.required = true;
            newPasswordField.appendChild(input);

            // Append the new password field to the container
            passwordContainer.appendChild(newPasswordField);
        }
    </script>
</head>
<body>
    <div class="newEmail-form">
        <h1>Update Email</h1>
        <!-- Input box for the new email -->
        <p><label for="newEmail">Enter New Email:</label>
            <input type="email" id="newEmail" name="newEmail" required></p>

        <!-- Container for dynamic password input fields -->
        <div id="passwordContainer">
            <div class="password-container">
                <label for="newPW">Enter New Email Password:</label>
                <input type="password" id="newPW" name="newPW[]" required>
            </div>
        </div>

        <!-- Button to add additional password input fields -->
        <button onclick="addPasswordField()">Add Password Field</button>

        <!-- Button to trigger the updateEmail function -->
        <button onclick="updateEmail()">Update Email</button>
    </div>
</body>
</html>
